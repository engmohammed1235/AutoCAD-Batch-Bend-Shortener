how to set up solidworks map file to export dxf with layers up and down and set up autocad to run trim bend lines in this layers

solid works set up :

DXF/DWG Mapping File (.map) that SolidWorks uses when export sheet metal flat patterns or drawings to DXF/DWG.
This file lets you control what goes on which layer (for example: bend up = green layer, bend down = red layer, geometry = white layer, etc.).

Here‚Äôs how you add and use a .map file in SOLIDWORKS:

üîπ Step 1. Create or Get a MAP File

A .map file is just a text file with rules for layers, colors, and entity types.

Example content:

BEND_UP     BEND_UP     1
BEND_DOWN   BEND_DOWN   2


üëâ Columns mean:

Entity type (SolidWorks name)

Layer name (as it will appear in AutoCAD)

Color index (AutoCAD color number)

You can copy/edit an existing one:

Default map files are usually found in
C:\ProgramData\SOLIDWORKS\SOLIDWORKS <version>\lang\english
(file name like sldwks.dxf or dxf mapping.map).

üîπ Step 2. Point SolidWorks to Your MAP File

In SolidWorks, go to Tools > Options > System Options > Export > DXF/DWG.

Tick Enable mapping file.

Browse and select your .map file.
(You can keep multiple versions for different customers/machines.)

üîπ Step 3. Export with the Mapping

When you Save As > DXF/DWG, SolidWorks will apply your map file.

All bend-up lines, bend-down lines, sketches, etc. will be placed on the correct layers with correct colors.

You can then open the DXF in AutoCAD (or send to CNC/laser) and layers will be exactly as defined.

‚úÖ Tip: You can test by exporting a simple flat pattern with a bend line up & down. Open in AutoCAD and check Layer Properties ‚Äî you should see your custom layers.
++++++++++++++++++++++
Creating a DXF/DWG mapping file (.map) in SOLIDWORKS for exporting sheet metal flat patterns or drawings allows you to assign specific SOLIDWORKS entities (like geometry, bend lines, or sketches) to designated layers with custom colors and line styles in the exported DXF/DWG file. This is particularly useful for manufacturing processes like laser cutting, where different layers can represent distinct operations (e.g., cutting, engraving, or bending). Below is a step-by-step guide to create and save a DXF/DWG mapping file in SOLIDWORKS, based on best practices and available information.
Step-by-Step Guide to Create a DXF/DWG Mapping File in SOLIDWORKS

Enable Custom Mapping in SOLIDWORKS System Options

Open SOLIDWORKS and go to Tools > Options > System Options > Export.
In the "File Format" dropdown, select DXF/DWG.
Check the box labeled Enable under "Custom Map SOLIDWORKS to DXF/DWG" to activate the mapping functionality.
Click OK to save the system settings. Note: You don‚Äôt need to select a mapping file yet, as it will be created later.


Open or Create a Sheet Metal Part

Open an existing sheet metal part or create a new one in SOLIDWORKS. Ensure the part includes the flat pattern and any relevant entities (e.g., sketches for engravings, bend lines, or geometry).
For sketches to be exported, they must be visible and preferably at the top level of the FeatureManager Design Tree (not consumed by other features).


Initiate the Export Process

Method 1: From the Part Environment

Right-click on a face of the sheet metal part in the graphics area and select Export to DXF/DWG.
Alternatively, go to File > Save As, select DXF (*.dxf) or DWG (*.dwg) as the file type, and click Options.


Method 2: From a Drawing (Optional)

If exporting from a drawing, open the drawing file, select File > Save As, choose DXF or DWG, and click Options. This method allows mapping additional entities like dimensions or annotations.




Configure Export Options

In the DXF/DWG Output PropertyManager that appears, select Sheet Metal as the export type for sheet metal parts.
Choose the entities to export by checking the relevant boxes, such as:

Geometry: Model edges for cuts.
Bend lines: For bend-up and bend-down lines.
Sketches: For engravings or etchings (ensure sketches are visible).
Other options like Library Features, Forming Tools, or Bounding Box as needed.


Click the green checkmark to proceed.


Create the Mapping File

After selecting entities, the SOLIDWORKS to DXF/DWG Mapping dialog will appear (if custom mapping is enabled).
Define Layers (Left Column):

Add new layers by entering names (e.g., CUT, ETCH, BEND-UP, BEND-DOWN).
Assign a color from the color palette and a line style (e.g., Solid, Dashed, Centerline) for each layer. Avoid hidden line styles for critical entities like bend lines, as some systems may not detect them.
Example: Create layers named CUT (red, solid), ETCH (blue, dashed), and BEND (green, centerline).


Map Entities (Middle Column):

Map SOLIDWORKS entities to the defined layers. For example:

Geometry ‚Üí CUT layer.
Sketches ‚Üí ETCH layer.
Bend lines ‚Äì up direction ‚Üí BEND-UP layer.
Bend lines ‚Äì down direction ‚Üí BEND-DOWN layer.


If both bend directions should be on the same layer, select the same layer for both.
Optionally, set the line style to BYLAYER to inherit the layer‚Äôs style, or choose a specific style for each entity.


Map Colors (Right Column, Optional):

If your SOLIDWORKS model uses specific colors, you can map them to different colors in the DXF/DWG file to match external requirements (e.g., a contractor‚Äôs color scheme).


Review the mappings to ensure all desired entities are assigned correctly.


Save the Mapping File

Once satisfied with the layer and entity mappings, click Save Map File in the mapping dialog.
Choose a location and name for the .map file (e.g., SheetMetalMapping.map). SOLIDWORKS will automatically populate the file location in the System Options the first time it‚Äôs saved, but you can change it later if needed.
Click OK to finalize the mapping and proceed to the export preview.


Review and Export

A preview window will appear, allowing you to remove unwanted entities (e.g., countersink geometry or extra sketches) before finalizing.
Click Save to generate the DXF/DWG file with the mapped layers.
Open the exported file in a program like DraftSight or AutoCAD to verify that the layers, colors, and line styles are correct.


Reuse the Mapping File

To reuse the mapping file for future exports, ensure Enable Map File is checked in Tools > Options > Export > DXF/DWG, and browse to select your saved .map file.
If you want to skip the mapping dialog for repetitive exports, check Don‚Äôt show mapping on each save in the System Options. This applies the saved .map file automatically.


Optional: Automate with PDM or Macros

For repetitive tasks, you can integrate the mapping file into a SOLIDWORKS PDM Professional task to automate DXF/DWG exports during workflow transitions (e.g., when a part is approved for production).
Alternatively, use a VBA macro to automate exports with predefined settings, specifying the .map file and output path. For example, macros can use placeholders like <_FileName_> or <$CLPRP:PartNo> to customize output file names.



Additional Tips

Layer Naming and Formatting: Use clear, descriptive layer names (e.g., CUT, ETCH, BEND) that align with your manufacturing requirements. Ensure line styles are compatible with your cutting machine (e.g., avoid hidden lines for bend lines).
Sketch Requirements: Sketches must be visible and at the top level of the FeatureManager Design Tree to be mapped. Use single-line fonts like OLF SimpleSansOC for text engravings to ensure compatibility.
Bend Lines in SOLIDWORKS 2022+: Since SOLIDWORKS 2022, bend lines are no longer automatically assigned to a default BEND layer. You must manually map them to a specific layer.
Verification: Always verify the exported DXF/DWG in a 2D CAD program to ensure layers and entities are correctly assigned. If bend lines are segmented due to cut features, consider using a tool like QCAD to make them continuous.
Material Properties: Ensure the sheet metal part‚Äôs material properties and thickness are accurate to avoid manufacturing errors.

Example Mapping Configuration
For a sheet metal part with cuts, etches, and bends:

Layers:

CUT: Red, Solid line
ETCH: Blue, Dashed line
BEND-UP: Green, Centerline
BEND-DOWN: Purple, Centerline


Entity Mappings:

Geometry ‚Üí CUT
Sketches ‚Üí ETCH
Bend lines (up) ‚Üí BEND-UP
Bend lines (down) ‚Üí BEND-DOWN


Color Mapping (if needed): Map SOLIDWORKS default colors to match fabricator requirements.

Notes

The .map file is a reusable configuration file that stores layer names, colors, line styles, and entity mappings. It can be shared across projects or with team members.
If you encounter issues, ensure the mapping file path is correct and that the entities you want to export are properly defined in the SOLIDWORKS model.
For specific manufacturing requirements, consult with your fabricator to ensure the layer setup aligns with their CNC or laser-cutting software.

This process streamlines the export of sheet metal flat patterns or drawings to DXF/DWG files with organized layers, improving compatibility with manufacturing processes. If you need further assistance or a specific example (e.g., VBA macro code or PDM task setup), let me know!24 ùïè posts25 web pages6.6sHow can Grok help?


AutoCAD set up :

1-step 1
to Auto-Load the macro on Startup (Best Way)

Add this line to your acaddoc.lsp (in AutoCAD‚Äôs support path - C:\program files\autodesk\autocad 20xx\support folder ):

(if (not (vl-catch-all-error-p (vl-catch-all-apply 'vla-LoadDVB (list (vla-get-Application (vlax-get-acad-object)) "C:/Scripts/BatchShortenBendLines-1.dvb"))))
  (princ)
)


üîπ This loads your DVB silently every time a drawing opens.
(No warning if already loaded.)

2- step 2
go to view 
press tool pallete 
add new pallete 
name it may macro - leave it opend

3- step 3
cui press enter 
creat new command
name it patch
in macro text past this cod :
^C^C-VBARUN BatchBreakBendLines_Final_Workaround

4- step 4

 drop this macro it in the pallete you creat (may macro) 

5-final step

close autocad .
reopen autocad .
run your macro by the button batch.
